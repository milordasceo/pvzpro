# Скрипты проекта

## Инвентаризация документации (docs-inventory.mjs)

### Назначение

Скрипт автоматически создаёт полную инвентаризацию всей проектной документации в репозитории. Сканирует корень проекта и папку `docs/` для составления подробного отчёта о всех документах.

### Критерии отнесения к документации

Скрипт обрабатывает следующие типы файлов:
- `.md` — Markdown-файлы
- `.txt` — текстовые файлы
- `.cursorrules` — правила для AI IDE
- `.gitmessage` — шаблон коммит-сообщений
- `README*` — все README-файлы внутри `docs/`

### Что собирает скрипт

Для каждого документа:
- **Относительный путь** от корня репозитория
- **Директория верхнего уровня** (root, docs, src и т.д.)
- **Размер файла** в килобайтах
- **Дата последнего изменения** файла (fs.stat)
- **Дата последнего коммита** для файла (git log)
- **Краткое описание** — первый заголовок (#) или первые 1-2 строки

### Выходные файлы

Скрипт создаёт два отчёта в папке `reports/`:

1. **`documentation_inventory.md`** — основной русскоязычный отчёт с:
   - Общей статистикой (количество, объём)
   - Топ-10 самых больших файлов
   - Таблицами документов по разделам:
     - Документы в корне репозитория
     - Документы внутри docs/
     - Документы в других каталогах
   - Особыми замечаниями (большие файлы, несоответствия дат, файлы без истории коммитов)
   - Инструкцией по воспроизводимости

2. **`documentation_inventory.csv`** — экспорт для обработки в Excel/таблицах
   - Все данные в табличном формате
   - Готов для импорта и фильтрации

### Запуск

#### С помощью npm-скрипта (рекомендуется):
```bash
npm run docs:inventory
```

#### Напрямую:
```bash
node scripts/docs-inventory.mjs
```

### Ограничения

**Игнорируемые директории:**
- `node_modules`
- `.git`
- `.expo`, `.expo-shared`
- `build`, `dist`
- `coverage`
- `android/build`, `ios/build`
- `.gradle`

**Требования:**
- Git репозиторий (для получения дат коммитов)
- Node.js 14+ с поддержкой ES модулей

### Примеры использования

#### Регулярный аудит документации
Запускайте скрипт периодически для отслеживания изменений в документации:
```bash
npm run docs:inventory
git add reports/documentation_inventory.md reports/documentation_inventory.csv
git commit -m "docs: update documentation inventory"
```

#### Поиск устаревших документов
Откройте `reports/documentation_inventory.md` и проверьте секцию "Особые замечания" для файлов с несоответствием дат (давно не обновлявшихся).

#### Анализ в таблицах
Откройте `reports/documentation_inventory.csv` в Excel/Google Sheets для:
- Сортировки по размеру
- Фильтрации по директориям
- Поиска по описаниям

---

## Другие скрипты

### generate-qr.mjs
Генерирует QR-код для подключения к Expo Dev Server.

**Запуск:**
```bash
npm run qr
```

### git-sync.mjs
Двусторонняя синхронизация Git репозитория между локальной машиной и сервером разработки.

### git-status-server.mjs
HTTP-сервер для отслеживания статуса Git репозитория.

### git-bidir-sync.mjs
Двунаправленная синхронизация Git веток.

---

## Добавление новых скриптов

При добавлении новых скриптов:

1. Используйте расширение `.mjs` для ES модулей
2. Добавьте shebang в начало файла: `#!/usr/bin/env node`
3. Добавьте npm-скрипт в `package.json`
4. Документируйте скрипт в этом README
5. Добавьте JSDoc комментарии к функциям
